<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Flea Market</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo">
      <img src="images/logo.png" alt="Logo do brech√≥">
    </div>
    <div class="disclaimer">
      Entre em contato conosco pelo √≠cone do Whatsapp<br>
      Os pagamentos devem ser realizados por Pix ou dinheiro<br>
      N√£o aceitamos parcelamentos<br>
      N√£o entregamos
    </div>
  </header>

  <nav class="categorias">
    <button onclick="window.location.href='index.html'">Todos</button>
    <button onclick="window.location.href='index.html?categoria=cozinha'">Cozinha</button>
    <button onclick="window.location.href='index.html?categoria=eletronicos'">Eletr√¥nicos</button>
    <button onclick="window.location.href='index.html?categoria=roupas'">Bolsas & Roupas</button>
    <button onclick="window.location.href='index.html?categoria=instrumentos'">Instrumentos Musicais</button>
    <button onclick="window.location.href='index.html?categoria=diversos'">Diversos</button>
  </nav>

  <main id="detalhes-produto" class="pagina-item"></main>

  <a href="https://wa.me/55SEUNUMERO" class="whatsapp" target="_blank">
    <img src="images/whatsapp.png" alt="WhatsApp">
  </a>
  <a href="index.html" class="voltar">üîô</a>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');

    fetch('data/products.json')
      .then(res => res.json())
      .then(produtos => {
        const produto = produtos.find(p => p.id === id);
        const container = document.getElementById('detalhes-produto');

        if (produto) {
          container.innerHTML = `
            <div class="detalhes-info esquerda">
              <h2>${produto.nome}</h2>
              <p><strong>Estado:</strong> ${produto.estado}</p>
              <p><strong>Pre√ßo:</strong> ${produto.preco}</p>
              <p><strong>Descri√ß√£o:</strong> ${produto.descricao || 'Sem descri√ß√£o dispon√≠vel.'}</p>
            </div>
            <div class="galeria">
              ${produto.fotos.map(foto => `
                <img src="images/${foto}" alt="${produto.nome}">
              `).join('')}
            </div>
          `;
        } else {
          container.innerHTML = `<p>Produto n√£o encontrado.</p>`;
        }
      })
      .catch(error => {
        console.error('Erro ao carregar produto:', error);
        document.getElementById('detalhes-produto').innerHTML = `<p>Erro ao carregar produto.</p>`;
      });
  </script>
</body>
</html>
